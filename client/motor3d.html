<!DOCTYPE html>
<html>
  <head>
    <title>Basic Three.js App</title>
    <style>
      html, body { margin: 0; padding: 0; overflow: hidden; }
    </style>
  </head>
  <body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/102/three.min.js"></script>
    <script>
		var time = 0
		var moonspeed = 0
		var scene = new THREE.Scene();
		var aspect = window.innerWidth / window.innerHeight;
		var camera = new THREE.PerspectiveCamera( 75, aspect, 0.1, 1000 );
		var renderer = new THREE.WebGLRenderer();
		renderer.setSize( window.innerWidth, window.innerHeight );
		document.body.appendChild( renderer.domElement );

		var loader = new THREE.TextureLoader();
		var texture = loader.load("earth-map.jpg");
		
		var suntexture = loader.load("sun.jpg")
		
		var moontexture = loader.load("cheese_moon.jpg")
		
		var material = new THREE.MeshPhongMaterial({
		  color: 0xaaaaaa,
		  specular: 0x333333,
		  shininess: 15,
		  map: texture
		});
		
		var sun_material = new THREE.MeshPhongMaterial({
		  color: 0xaaaaaa,
		  specular: 0x333333,
		  shininess: 15,
		  map: suntexture
		});
		
		
		var moon_material = new THREE.MeshPhongMaterial({
		  color: 0xaaaaaa,
		  specular: 0x333333,
		  shininess: 15,
		  map: moontexture
		});

		var geometry = new THREE.SphereGeometry( 0.5, 40, 40 );
		//var material = new THREE.MeshStandardMaterial();
		var light = new THREE.AmbientLight( 0xb4e7f2);
		var sphere = new THREE.Mesh( geometry, material);
		scene.add(light);
		scene.add( sphere );
		
		var geometrymoon = new THREE.SphereGeometry( 0.2, 40, 40 );
		var moon = new THREE.Mesh(geometrymoon, moon_material);
		scene.add(moon);
		
		var geometrysun = new THREE.SphereGeometry( 1, 40, 40 );
		var sun = new THREE.Mesh(geometrysun, sun_material);
		scene.add(sun)
		
		camera.position.z = 7;

		var render = function () {
			requestAnimationFrame( render );
			sphere.rotation.y += 0.1;
			sun.rotation.y += 0.02;
			moon.rotation.x += 0.02;
			
			sphere.position.x = 4 * Math.cos(time);
			sphere.position.y = 4 * Math.sin(time);
			
			moon.position.x = sphere.position.x + Math.cos(moonspeed)
			moon.position.y = sphere.position.y + Math.sin(moonspeed)
			moon.position.z = sphere.position.z 
			
			moonspeed += 0.05
			time+= 0.01
			renderer.render( scene, camera );
		};

		render();
    </script>
  </body>
</html>